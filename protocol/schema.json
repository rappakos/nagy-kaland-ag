{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "nagy-kaland protocol",
  "type": "object",
  "oneOf": [
    {"properties": {"type": {"const": "join"}, "player_id": {"type": "string"}}, "required": ["type", "player_id"]},
    {"properties": {"type": {"const": "leave"}, "player_id": {"type": "string"}}, "required": ["type", "player_id"]},
    {"properties": {"type": {"const": "player_action"}, "player_id": {"type": "string"}, "action": {"type": "object"}}, "required": ["type", "player_id", "action"]},
    {"properties": {"type": {"const": "chat"}, "player_id": {"type": "string"}, "message": {"type": "string"}}, "required": ["type", "player_id", "message"]}
  ]
}
